import glob
import time
from datetime import datetime

import cv2

from definitions import UNPROCESSED_ITEMS_PATH, ROOT
from marketplace_boxes import average_text_box
from repository.mysql import ExternalDofusPriceRepository
from scraper import ScraperManager, Scraper

stuff = [
'/cache/items/processed/20260103/113231/64.png',
'/cache/items/processed/20260103/113231/61.png',
'/cache/items/processed/20260103/113231/59.png',
'/cache/items/processed/20260103/113231/21.png',
'/cache/items/processed/20260101/132205/978.png',
'/cache/items/processed/20260101/132205/96.png',
'/cache/items/processed/20260101/132205/874.png',
'/cache/items/processed/20260101/132205/873.png',
'/cache/items/processed/20260101/132205/870.png',
'/cache/items/processed/20260101/132205/868.png',
'/cache/items/processed/20260101/132205/850.png',
'/cache/items/processed/20260101/132205/833.png',
'/cache/items/processed/20260101/132205/805.png',
'/cache/items/processed/20260101/132205/804.png',
'/cache/items/processed/20260101/132205/801.png',
'/cache/items/processed/20260101/132205/793.png',
'/cache/items/processed/20260101/132205/741.png',
'/cache/items/processed/20260101/132205/739.png',
'/cache/items/processed/20260101/132205/735.png',
'/cache/items/processed/20260101/132205/726.png',
'/cache/items/processed/20260101/132205/700.png',
'/cache/items/processed/20260101/132205/699.png',
'/cache/items/processed/20260101/132205/689.png',
'/cache/items/processed/20260101/132205/64.png',
'/cache/items/processed/20260101/132205/62.png',
'/cache/items/processed/20260101/132205/605.png',
'/cache/items/processed/20260101/132205/604.png',
'/cache/items/processed/20260101/132205/603.png',
'/cache/items/processed/20260101/132205/602.png',
'/cache/items/processed/20260101/132205/601.png',
'/cache/items/processed/20260101/132205/600.png',
'/cache/items/processed/20260101/132205/60.png',
'/cache/items/processed/20260101/132205/598.png',
'/cache/items/processed/20260101/132205/592.png',
'/cache/items/processed/20260101/132205/509.png',
'/cache/items/processed/20260101/132205/437.png',
'/cache/items/processed/20260101/132205/435.png',
'/cache/items/processed/20260101/132205/434.png',
'/cache/items/processed/20260101/132205/433.png',
'/cache/items/processed/20260101/132205/385.png',
'/cache/items/processed/20260101/132205/350.png',
'/cache/items/processed/20260101/132205/318.png',
'/cache/items/processed/20260101/132205/300.png',
'/cache/items/processed/20260101/132205/298.png',
'/cache/items/processed/20260101/132205/263.png',
'/cache/items/processed/20260101/132205/254.png',
'/cache/items/processed/20260101/132205/25.png',
'/cache/items/processed/20260101/132205/198.png',
'/cache/items/processed/20260101/132205/185.png',
'/cache/items/processed/20260101/132205/1421.png',
'/cache/items/processed/20260101/132205/1381.png',
'/cache/items/processed/20260101/132205/1307.png',
'/cache/items/processed/20260101/132205/1263.png',
'/cache/items/processed/20260101/132205/1236.png',
'/cache/items/processed/20260101/132205/1216.png',
'/cache/items/processed/20260101/132205/1155.png',
'/cache/items/processed/20260101/132205/1051.png',
'/cache/items/processed/20260101/123439/950.png',
'/cache/items/processed/20260101/123439/95.png',
'/cache/items/processed/20260101/123439/897.png',
'/cache/items/processed/20260101/123439/823.png',
'/cache/items/processed/20260101/123439/775.png',
'/cache/items/processed/20260101/123439/762.png',
'/cache/items/processed/20260101/123439/756.png',
'/cache/items/processed/20260101/123439/732.png',
'/cache/items/processed/20260101/123439/70.png',
'/cache/items/processed/20260101/123439/690.png',
'/cache/items/processed/20260101/123439/653.png',
'/cache/items/processed/20260101/123439/646.png',
'/cache/items/processed/20260101/123439/627.png',
'/cache/items/processed/20260101/123439/566.png',
'/cache/items/processed/20260101/123439/564.png',
'/cache/items/processed/20260101/123439/558.png',
'/cache/items/processed/20260101/123439/530.png',
'/cache/items/processed/20260101/123439/515.png',
'/cache/items/processed/20260101/123439/504.png',
'/cache/items/processed/20260101/123439/478.png',
'/cache/items/processed/20260101/123439/462.png',
'/cache/items/processed/20260101/123439/45.png',
'/cache/items/processed/20260101/123439/389.png',
'/cache/items/processed/20260101/123439/355.png',
'/cache/items/processed/20260101/123439/342.png',
'/cache/items/processed/20260101/123439/327.png',
'/cache/items/processed/20260101/123439/319.png',
'/cache/items/processed/20260101/123439/296.png',
'/cache/items/processed/20260101/123439/294.png',
'/cache/items/processed/20260101/123439/220.png',
'/cache/items/processed/20260101/123439/13.png',
'/cache/items/processed/20260101/123439/125.png',
'/cache/items/processed/20260101/123439/1153.png',
'/cache/items/processed/20260101/123439/1120.png',
'/cache/items/processed/20260101/123439/111.png',
'/cache/items/processed/20260101/123439/1092.png',
'/cache/items/processed/20260101/123439/1065.png',
'/cache/items/processed/20260101/123439/1022.png',
'/cache/items/processed/20260101/123439/1021.png',
'/cache/items/processed/20251231/202421/65.png',
'/cache/items/processed/20251231/202421/59.png',
'/cache/items/processed/20251231/202421/151.png',
'/cache/items/processed/20251231/202421/143.png',
'/cache/items/processed/20251231/202421/127.png',
'/cache/items/processed/20251231/195816/22.png',
'/cache/items/processed/20251231/191753/827.png',
'/cache/items/processed/20251231/191753/801.png',
'/cache/items/processed/20251231/191753/786.png',
'/cache/items/processed/20251231/191753/746.png',
'/cache/items/processed/20251231/191753/673.png',
'/cache/items/processed/20251231/191753/620.png',
'/cache/items/processed/20251231/191753/523.png',
'/cache/items/processed/20251231/191753/515.png',
'/cache/items/processed/20251231/191753/49.png',
'/cache/items/processed/20251231/191753/488.png',
'/cache/items/processed/20251231/191753/474.png',
'/cache/items/processed/20251231/191753/434.png',
'/cache/items/processed/20251231/191753/401.png',
'/cache/items/processed/20251231/191753/363.png',
'/cache/items/processed/20251231/191753/350.png',
'/cache/items/processed/20251231/191753/339.png',
'/cache/items/processed/20251231/191753/330.png',
'/cache/items/processed/20251231/191753/305.png',
'/cache/items/processed/20251231/191753/303.png',
'/cache/items/processed/20251231/191753/225.png',
'/cache/items/processed/20251231/191753/15.png',
'/cache/items/processed/20251231/191753/134.png',
'/cache/items/processed/20251231/191753/119.png',
'/cache/items/processed/20251231/191753/101.png',
'/cache/items/processed/20251231/183212/97.png',
'/cache/items/processed/20251231/183212/860.png',
'/cache/items/processed/20251231/183212/859.png',
'/cache/items/processed/20251231/183212/592.png',
'/cache/items/processed/20251231/183212/581.png',
'/cache/items/processed/20251231/183212/58.png',
'/cache/items/processed/20251231/183212/527.png',
'/cache/items/processed/20251231/183212/508.png',
'/cache/items/processed/20251231/183212/483.png',
'/cache/items/processed/20251231/183212/474.png',
'/cache/items/processed/20251231/183212/47.png',
'/cache/items/processed/20251231/183212/45.png',
'/cache/items/processed/20251231/183212/408.png',
'/cache/items/processed/20251231/183212/403.png',
'/cache/items/processed/20251231/183212/386.png',
'/cache/items/processed/20251231/183212/383.png',
'/cache/items/processed/20251231/183212/372.png',
'/cache/items/processed/20251231/183212/370.png',
'/cache/items/processed/20251231/183212/366.png',
'/cache/items/processed/20251231/183212/35.png',
'/cache/items/processed/20251231/183212/345.png',
'/cache/items/processed/20251231/183212/338.png',
'/cache/items/processed/20251231/183212/322.png',
'/cache/items/processed/20251231/183212/317.png',
'/cache/items/processed/20251231/183212/281.png',
'/cache/items/processed/20251231/183212/274.png',
'/cache/items/processed/20251231/183212/262.png',
'/cache/items/processed/20251231/183212/259.png',
'/cache/items/processed/20251231/183212/248.png',
'/cache/items/processed/20251231/183212/231.png',
'/cache/items/processed/20251231/183212/229.png',
'/cache/items/processed/20251231/183212/222.png',
'/cache/items/processed/20251231/183212/215.png',
'/cache/items/processed/20251231/183212/193.png',
'/cache/items/processed/20251231/183212/17.png',
'/cache/items/processed/20251231/183212/143.png',
'/cache/items/processed/20251231/183212/134.png',
'/cache/items/processed/20251231/183212/125.png',
'/cache/items/processed/20251231/171444/81.png',
'/cache/items/processed/20251231/171444/33.png',
'/cache/items/processed/20251231/171444/201.png',
'/cache/items/processed/20251231/170450/82.png',
'/cache/items/processed/20251231/170450/6.png',
'/cache/items/processed/20251231/170450/26.png',
'/cache/items/processed/20251231/145712/55.png',
'/cache/items/processed/20251231/135416/998.png',
'/cache/items/processed/20251231/135416/930.png',
'/cache/items/processed/20251231/135416/870.png',
'/cache/items/processed/20251231/135416/811.png',
'/cache/items/processed/20251231/135416/802.png',
'/cache/items/processed/20251231/135416/80.png',
'/cache/items/processed/20251231/135416/789.png',
'/cache/items/processed/20251231/135416/748.png',
'/cache/items/processed/20251231/135416/679.png',
'/cache/items/processed/20251231/135416/522.png',
'/cache/items/processed/20251231/135416/512.png',
'/cache/items/processed/20251231/135416/488.png',
'/cache/items/processed/20251231/135416/475.png',
'/cache/items/processed/20251231/135416/47.png',
'/cache/items/processed/20251231/135416/399.png',
'/cache/items/processed/20251231/135416/368.png',
'/cache/items/processed/20251231/135416/356.png',
'/cache/items/processed/20251231/135416/342.png',
'/cache/items/processed/20251231/135416/340.png',
'/cache/items/processed/20251231/135416/332.png',
'/cache/items/processed/20251231/135416/309.png',
'/cache/items/processed/20251231/135416/230.png',
'/cache/items/processed/20251231/135416/1506.png',
'/cache/items/processed/20251231/135416/1487.png',
'/cache/items/processed/20251231/135416/1460.png',
'/cache/items/processed/20251231/135416/1428.png',
'/cache/items/processed/20251231/135416/1426.png',
'/cache/items/processed/20251231/135416/137.png',
'/cache/items/processed/20251231/135416/13.png',
'/cache/items/processed/20251231/135416/1289.png',
'/cache/items/processed/20251231/135416/1258.png',
'/cache/items/processed/20251231/135416/1257.png',
'/cache/items/processed/20251231/135416/1256.png',
'/cache/items/processed/20251231/135416/122.png',
'/cache/items/processed/20251231/135416/1118.png',
'/cache/items/processed/20251231/135416/1030.png',
'/cache/items/processed/20251231/135416/103.png',
'/cache/items/processed/20251231/135416/1014.png',
'/cache/items/processed/20251231/120652/962.png',
'/cache/items/processed/20251231/120652/93.png',
'/cache/items/processed/20251231/120652/853.png',
'/cache/items/processed/20251231/120652/851.png',
'/cache/items/processed/20251231/120652/848.png',
'/cache/items/processed/20251231/120652/828.png',
'/cache/items/processed/20251231/120652/806.png',
'/cache/items/processed/20251231/120652/781.png',
'/cache/items/processed/20251231/120652/780.png',
'/cache/items/processed/20251231/120652/778.png',
'/cache/items/processed/20251231/120652/768.png',
'/cache/items/processed/20251231/120652/715.png',
'/cache/items/processed/20251231/120652/713.png',
'/cache/items/processed/20251231/120652/710.png',
'/cache/items/processed/20251231/120652/707.png',
'/cache/items/processed/20251231/120652/700.png',
'/cache/items/processed/20251231/120652/677.png',
'/cache/items/processed/20251231/120652/676.png',
'/cache/items/processed/20251231/120652/674.png',
'/cache/items/processed/20251231/120652/666.png',
'/cache/items/processed/20251231/120652/64.png',
'/cache/items/processed/20251231/120652/585.png',
'/cache/items/processed/20251231/120652/584.png',
'/cache/items/processed/20251231/120652/583.png',
'/cache/items/processed/20251231/120652/581.png',
'/cache/items/processed/20251231/120652/577.png',
'/cache/items/processed/20251231/120652/497.png',
'/cache/items/processed/20251231/120652/424.png',
'/cache/items/processed/20251231/120652/422.png',
'/cache/items/processed/20251231/120652/380.png',
'/cache/items/processed/20251231/120652/343.png',
'/cache/items/processed/20251231/120652/312.png',
'/cache/items/processed/20251231/120652/295.png',
'/cache/items/processed/20251231/120652/293.png',
'/cache/items/processed/20251231/120652/259.png',
'/cache/items/processed/20251231/120652/25.png',
'/cache/items/processed/20251231/120652/249.png',
'/cache/items/processed/20251231/120652/195.png',
'/cache/items/processed/20251231/120652/181.png',
'/cache/items/processed/20251231/120652/1447.png',
'/cache/items/processed/20251231/120652/1417.png',
'/cache/items/processed/20251231/120652/1406.png',
'/cache/items/processed/20251231/120652/1397.png',
'/cache/items/processed/20251231/120652/1394.png',
'/cache/items/processed/20251231/120652/1386.png',
'/cache/items/processed/20251231/120652/1249.png',
'/cache/items/processed/20251231/120652/1191.png',
'/cache/items/processed/20251231/120652/1185.png',
'/cache/items/processed/20251231/120652/1184.png',
'/cache/items/processed/20251231/120652/1155.png',
'/cache/items/processed/20251231/120652/1137.png',
'/cache/items/processed/20251231/120652/1028.png',
'/cache/items/processed/20251230/142219/992.png',
'/cache/items/processed/20251230/142219/986.png',
'/cache/items/processed/20251230/142219/849.png',
'/cache/items/processed/20251230/142219/773.png',
'/cache/items/processed/20251230/142219/756.png',
'/cache/items/processed/20251230/142219/715.png',
'/cache/items/processed/20251230/142219/680.png',
'/cache/items/processed/20251230/142219/678.png',
'/cache/items/processed/20251230/142219/649.png',
'/cache/items/processed/20251230/142219/629.png',
'/cache/items/processed/20251230/142219/610.png',
'/cache/items/processed/20251230/142219/515.png',
'/cache/items/processed/20251230/142219/49.png',
'/cache/items/processed/20251230/142219/461.png',
'/cache/items/processed/20251230/142219/460.png',
'/cache/items/processed/20251230/142219/455.png',
'/cache/items/processed/20251230/142219/446.png',
'/cache/items/processed/20251230/142219/438.png',
'/cache/items/processed/20251230/142219/426.png',
'/cache/items/processed/20251230/142219/424.png',
'/cache/items/processed/20251230/142219/394.png',
'/cache/items/processed/20251230/142219/393.png',
'/cache/items/processed/20251230/142219/391.png',
'/cache/items/processed/20251230/142219/379.png',
'/cache/items/processed/20251230/142219/377.png',
'/cache/items/processed/20251230/142219/376.png',
'/cache/items/processed/20251230/142219/374.png',
'/cache/items/processed/20251230/142219/34.png',
'/cache/items/processed/20251230/142219/331.png',
'/cache/items/processed/20251230/142219/330.png',
'/cache/items/processed/20251230/142219/329.png',
'/cache/items/processed/20251230/142219/327.png',
'/cache/items/processed/20251230/142219/322.png',
'/cache/items/processed/20251230/142219/242.png',
'/cache/items/processed/20251230/142219/201.png',
'/cache/items/processed/20251230/142219/190.png',
'/cache/items/processed/20251230/142219/170.png',
'/cache/items/processed/20251230/142219/134.png',
'/cache/items/processed/20251230/142219/1337.png',
'/cache/items/processed/20251230/142219/1335.png',
'/cache/items/processed/20251230/142219/132.png',
'/cache/items/processed/20251230/142219/119.png',
'/cache/items/processed/20251230/135437/93.png',
'/cache/items/processed/20251230/135437/91.png',
'/cache/items/processed/20251230/135437/655.png',
'/cache/items/processed/20251230/135437/645.png',
'/cache/items/processed/20251230/135437/539.png',
'/cache/items/processed/20251230/135437/517.png',
'/cache/items/processed/20251230/135437/480.png',
'/cache/items/processed/20251230/135437/371.png',
'/cache/items/processed/20251230/135437/328.png',
'/cache/items/processed/20251230/135437/268.png',
'/cache/items/processed/20251230/135437/215.png',
'/cache/items/processed/20251230/135437/199.png',
'/cache/items/processed/20251230/135437/110.png',
'/cache/items/processed/20251230/133421/76.png',
'/cache/items/processed/20251230/133421/75.png',
'/cache/items/processed/20251230/133421/19.png',
'/cache/items/processed/20251230/133421/0.png',
'/cache/items/processed/20251230/133118/8.png',
'/cache/items/processed/20251230/133118/6.png',
'/cache/items/processed/20251230/133118/4.png',
'/cache/items/processed/20251230/133118/37.png',
'/cache/items/processed/20251230/131439/152.png',
'/cache/items/processed/20251230/131439/115.png',
'/cache/items/processed/20251230/131439/111.png',
'/cache/items/processed/20251230/130757/107.png',
'/cache/items/processed/20251230/130757/10.png',
'/cache/items/processed/20251230/123210/985.png',
'/cache/items/processed/20251230/123210/928.png',
'/cache/items/processed/20251230/123210/922.png',
'/cache/items/processed/20251230/123210/862.png',
'/cache/items/processed/20251230/123210/818.png',
'/cache/items/processed/20251230/123210/801.png',
'/cache/items/processed/20251230/123210/794.png',
'/cache/items/processed/20251230/123210/782.png',
'/cache/items/processed/20251230/123210/75.png',
'/cache/items/processed/20251230/123210/743.png',
'/cache/items/processed/20251230/123210/667.png',
'/cache/items/processed/20251230/123210/615.png',
'/cache/items/processed/20251230/123210/517.png',
'/cache/items/processed/20251230/123210/509.png',
'/cache/items/processed/20251230/123210/50.png',
'/cache/items/processed/20251230/123210/482.png',
'/cache/items/processed/20251230/123210/466.png',
'/cache/items/processed/20251230/123210/426.png',
'/cache/items/processed/20251230/123210/390.png',
'/cache/items/processed/20251230/123210/356.png',
'/cache/items/processed/20251230/123210/343.png',
'/cache/items/processed/20251230/123210/330.png',
'/cache/items/processed/20251230/123210/322.png',
'/cache/items/processed/20251230/123210/299.png',
'/cache/items/processed/20251230/123210/297.png',
'/cache/items/processed/20251230/123210/219.png',
'/cache/items/processed/20251230/123210/16.png',
'/cache/items/processed/20251230/123210/14.png',
'/cache/items/processed/20251230/123210/118.png',
'/cache/items/processed/20251230/123210/1001.png',
'/cache/items/processed/20251230/123210/100.png',
'/cache/items/processed/20251229/121516/96.png',
'/cache/items/processed/20251229/121516/47.png',
'/cache/items/processed/20251229/121516/16.png',
'/cache/items/processed/20251229/121516/15.png',
'/cache/items/processed/20251229/114121/89.png',
'/cache/items/processed/20251229/114121/706.png',
'/cache/items/processed/20251229/114121/671.png',
'/cache/items/processed/20251229/114121/669.png',
'/cache/items/processed/20251229/114121/666.png',
'/cache/items/processed/20251229/114121/534.png',
'/cache/items/processed/20251229/114121/431.png',
'/cache/items/processed/20251229/114121/415.png',
'/cache/items/processed/20251229/114121/397.png',
'/cache/items/processed/20251229/114121/37.png',
'/cache/items/processed/20251229/114121/340.png',
'/cache/items/processed/20251229/114121/335.png',
'/cache/items/processed/20251229/114121/278.png',
'/cache/items/processed/20251229/114121/236.png',
'/cache/items/processed/20251229/114121/221.png',
'/cache/items/processed/20251229/114121/212.png',
'/cache/items/processed/20251229/114121/200.png',
'/cache/items/processed/20251229/114121/160.png',
'/cache/items/processed/20251229/110807/82.png',
'/cache/items/processed/20251229/110807/539.png',
'/cache/items/processed/20251229/110807/529.png',
'/cache/items/processed/20251229/110807/51.png',
'/cache/items/processed/20251229/110807/451.png',
'/cache/items/processed/20251229/110807/414.png',
'/cache/items/processed/20251229/110807/380.png',
'/cache/items/processed/20251229/110807/368.png',
'/cache/items/processed/20251229/110807/353.png',
'/cache/items/processed/20251229/110807/325.png',
'/cache/items/processed/20251229/110807/323.png',
'/cache/items/processed/20251229/110807/321.png',
'/cache/items/processed/20251229/110807/242.png',
'/cache/items/processed/20251229/110807/145.png',
'/cache/items/processed/20251229/110807/130.png',
'/cache/items/processed/20251229/110807/13.png',
'/cache/items/processed/20251229/110807/110.png',
'/cache/items/processed/20251229/093845/929.png',
'/cache/items/processed/20251229/093845/908.png',
'/cache/items/processed/20251229/093845/897.png',
'/cache/items/processed/20251229/093845/748.png',
'/cache/items/processed/20251229/093845/705.png',
'/cache/items/processed/20251229/093845/627.png',
'/cache/items/processed/20251229/093845/586.png',
'/cache/items/processed/20251229/093845/549.png',
'/cache/items/processed/20251229/093845/547.png',
'/cache/items/processed/20251229/093845/489.png',
'/cache/items/processed/20251229/093845/477.png',
'/cache/items/processed/20251229/093845/400.png',
'/cache/items/processed/20251229/093845/399.png',
'/cache/items/processed/20251229/093845/397.png',
'/cache/items/processed/20251229/093845/385.png',
'/cache/items/processed/20251229/093845/380.png',
'/cache/items/processed/20251229/093845/379.png',
'/cache/items/processed/20251229/093845/377.png',
'/cache/items/processed/20251229/093845/364.png',
'/cache/items/processed/20251229/093845/363.png',
'/cache/items/processed/20251229/093845/362.png',
'/cache/items/processed/20251229/093845/361.png',
'/cache/items/processed/20251229/093845/360.png',
'/cache/items/processed/20251229/093845/345.png',
'/cache/items/processed/20251229/093845/328.png',
'/cache/items/processed/20251229/093845/326.png',
'/cache/items/processed/20251229/093845/325.png',
'/cache/items/processed/20251229/093845/322.png',
'/cache/items/processed/20251229/093845/31.png',
'/cache/items/processed/20251229/093845/305.png',
'/cache/items/processed/20251229/093845/299.png',
'/cache/items/processed/20251229/093845/238.png',
'/cache/items/processed/20251229/093845/180.png',
'/cache/items/processed/20251229/093845/126.png',
'/cache/items/processed/20251229/093845/124.png',
'/cache/items/processed/20251229/093845/121.png',
'/cache/items/processed/20251229/093845/103.png',
'/cache/items/processed/20251229/092613/213.png',
'/cache/items/processed/20251229/092613/207.png',
'/cache/items/processed/20251229/092613/187.png',
'/cache/items/processed/20251229/092613/129.png',
'/cache/items/processed/20251228/212806/175.png',
'/cache/items/processed/20251228/212806/157.png',
'/cache/items/processed/20251228/212806/146.png',
'/cache/items/processed/20251228/204357/990.png',
'/cache/items/processed/20251228/204357/933.png',
'/cache/items/processed/20251228/204357/906.png',
'/cache/items/processed/20251228/204357/855.png',
'/cache/items/processed/20251228/204357/846.png',
'/cache/items/processed/20251228/204357/822.png',
'/cache/items/processed/20251228/204357/820.png',
'/cache/items/processed/20251228/204357/787.png',
'/cache/items/processed/20251228/204357/783.png',
'/cache/items/processed/20251228/204357/78.png',
'/cache/items/processed/20251228/204357/777.png',
'/cache/items/processed/20251228/204357/753.png',
'/cache/items/processed/20251228/204357/736.png',
'/cache/items/processed/20251228/204357/731.png',
'/cache/items/processed/20251228/204357/642.png',
'/cache/items/processed/20251228/204357/600.png',
'/cache/items/processed/20251228/204357/567.png',
'/cache/items/processed/20251228/204357/52.png',
'/cache/items/processed/20251228/204357/503.png',
'/cache/items/processed/20251228/204357/50.png',
'/cache/items/processed/20251228/204357/498.png',
'/cache/items/processed/20251228/204357/483.png',
'/cache/items/processed/20251228/204357/343.png',
'/cache/items/processed/20251228/204357/281.png',
'/cache/items/processed/20251228/204357/273.png',
'/cache/items/processed/20251228/204357/224.png',
'/cache/items/processed/20251228/204357/188.png',
'/cache/items/processed/20251228/204357/136.png',
'/cache/items/processed/20251228/204357/131.png',
'/cache/items/processed/20251228/204357/13.png',
'/cache/items/processed/20251228/204357/117.png',
'/cache/items/processed/20251228/204357/1014.png',
'/cache/items/processed/20251228/200513/768.png',
'/cache/items/processed/20251228/200513/674.png',
'/cache/items/processed/20251228/200513/673.png',
'/cache/items/processed/20251228/200513/670.png',
'/cache/items/processed/20251228/200513/652.png',
'/cache/items/processed/20251228/200513/612.png',
'/cache/items/processed/20251228/200513/611.png',
'/cache/items/processed/20251228/200513/609.png',
'/cache/items/processed/20251228/200513/599.png',
'/cache/items/processed/20251228/200513/566.png',
'/cache/items/processed/20251228/200513/565.png',
'/cache/items/processed/20251228/200513/560.png',
'/cache/items/processed/20251228/200513/553.png',
'/cache/items/processed/20251228/200513/532.png',
'/cache/items/processed/20251228/200513/522.png',
'/cache/items/processed/20251228/200513/461.png',
'/cache/items/processed/20251228/200513/460.png',
'/cache/items/processed/20251228/200513/459.png',
'/cache/items/processed/20251228/200513/458.png',
'/cache/items/processed/20251228/200513/456.png',
'/cache/items/processed/20251228/200513/451.png',
'/cache/items/processed/20251228/200513/42.png',
'/cache/items/processed/20251228/200513/40.png',
'/cache/items/processed/20251228/200513/325.png',
'/cache/items/processed/20251228/200513/324.png',
'/cache/items/processed/20251228/200513/237.png',
'/cache/items/processed/20251228/200513/222.png',
'/cache/items/processed/20251228/200513/220.png',
'/cache/items/processed/20251228/200513/193.png',
'/cache/items/processed/20251228/200513/186.png',
'/cache/items/processed/20251228/200513/147.png',
'/cache/items/processed/20251228/200513/131.png',
'/cache/items/processed/20251228/165420/176.png',
'/cache/items/processed/20251228/165420/154.png',
'/cache/items/processed/20251228/165420/145.png',
'/cache/items/processed/20251228/163806/95.png',
'/cache/items/processed/20251228/163806/81.png',
'/cache/items/processed/20251228/163806/80.png',
'/cache/items/processed/20251228/163806/59.png',
'/cache/items/processed/20251228/163806/58.png',
'/cache/items/processed/20251228/163806/57.png',
'/cache/items/processed/20251228/163806/56.png',
'/cache/items/processed/20251228/163806/55.png',
'/cache/items/processed/20251228/163806/47.png',
'/cache/items/processed/20251228/163806/348.png',
'/cache/items/processed/20251228/163806/347.png',
'/cache/items/processed/20251228/163806/335.png',
'/cache/items/processed/20251228/163806/330.png',
'/cache/items/processed/20251228/163806/292.png',
'/cache/items/processed/20251228/163806/230.png',
'/cache/items/processed/20251228/163806/213.png',
'/cache/items/processed/20251228/163806/202.png',
'/cache/items/processed/20251228/163806/194.png',
'/cache/items/processed/20251228/163806/19.png',
'/cache/items/processed/20251228/163806/18.png',
'/cache/items/processed/20251228/163806/17.png',
'/cache/items/processed/20251228/163806/169.png',
'/cache/items/processed/20251228/163806/168.png',
'/cache/items/processed/20251228/163806/167.png',
'/cache/items/processed/20251228/163806/16.png',
'/cache/items/processed/20251228/163806/159.png',
'/cache/items/processed/20251228/163806/15.png',
'/cache/items/processed/20251228/163806/140.png',
'/cache/items/processed/20251228/163806/138.png',
'/cache/items/processed/20251228/163806/127.png',
'/cache/items/processed/20251228/163806/126.png',
'/cache/items/processed/20251228/163806/125.png',
'/cache/items/processed/20251228/163806/124.png',
'/cache/items/processed/20251228/161517/97.png',
'/cache/items/processed/20251228/161517/453.png',
'/cache/items/processed/20251228/161517/416.png',
'/cache/items/processed/20251228/161517/391.png',
'/cache/items/processed/20251228/161517/350.png',
'/cache/items/processed/20251228/161517/338.png',
'/cache/items/processed/20251228/161517/316.png',
'/cache/items/processed/20251228/161517/253.png',
'/cache/items/processed/20251228/161517/177.png',
'/cache/items/processed/20251228/161517/158.png',
'/cache/items/processed/20251227/185858/52.png',
'/cache/items/processed/20251227/185858/390.png',
'/cache/items/processed/20251227/185858/188.png',
'/cache/items/processed/20251227/185858/161.png',
'/cache/items/processed/20251227/185858/160.png',
'/cache/items/processed/20251227/164546/77.png',
'/cache/items/processed/20251227/164546/20.png',
'/cache/items/processed/20251227/164546/0.png',
'/cache/items/processed/20251227/163020/89.png',
'/cache/items/processed/20251227/163020/88.png',
'/cache/items/processed/20251227/163020/87.png',
'/cache/items/processed/20251227/163020/51.png',
'/cache/items/processed/20251227/163020/48.png',
'/cache/items/processed/20251227/163020/252.png',
'/cache/items/processed/20251227/163020/218.png',
'/cache/items/processed/20251227/163020/215.png',
'/cache/items/processed/20251227/155423/45.png',
'/cache/items/processed/20251227/155423/39.png',
'/cache/items/processed/20251227/155423/243.png',
'/cache/items/processed/20251227/155423/146.png',
'/cache/items/processed/20251227/155423/136.png',
'/cache/items/processed/20251227/155423/130.png',
'/cache/items/processed/20251227/155423/111.png',
'/cache/items/processed/20251227/154255/86.png',
'/cache/items/processed/20251227/154255/84.png',
'/cache/items/processed/20251227/154255/37.png',
'/cache/items/processed/20251227/154255/20.png',
'/cache/items/processed/20251227/154255/10.png',
'/cache/items/processed/20251227/152936/64.png',
'/cache/items/processed/20251227/152936/103.png',
'/cache/items/processed/20251227/152128/70.png',
'/cache/items/processed/20251227/152128/13.png',
'/cache/items/processed/20251227/151344/1.png',
'/cache/items/processed/20251227/145420/90.png',
'/cache/items/processed/20251227/145420/53.png',
'/cache/items/processed/20251227/145420/357.png',
'/cache/items/processed/20251227/145420/275.png',
'/cache/items/processed/20251227/145420/19.png',
'/cache/items/processed/20251227/145420/140.png',
'/cache/items/processed/20251227/145420/132.png',
'/cache/items/processed/20251227/144036/93.png',
'/cache/items/processed/20251227/144036/204.png',
'/cache/items/processed/20251227/144036/198.png',
'/cache/items/processed/20251227/144036/173.png',
'/cache/items/processed/20251227/144036/172.png',
'/cache/items/processed/20251227/143247/98.png',
'/cache/items/processed/20251227/143247/76.png',
'/cache/items/processed/20251227/143247/47.png',
'/cache/items/processed/20251227/143247/14.png',
'/cache/items/processed/20251227/143247/130.png',
'/cache/items/processed/20251227/143247/118.png',
'/cache/items/processed/20251227/141552/321.png',
'/cache/items/processed/20251227/141552/315.png',
'/cache/items/processed/20251227/141552/305.png',
'/cache/items/processed/20251227/141552/285.png',
'/cache/items/processed/20251227/141552/205.png',
'/cache/items/processed/20251227/141552/175.png',
'/cache/items/processed/20251227/141552/165.png',
'/cache/items/processed/20251227/130828/971.png',
'/cache/items/processed/20251227/130828/970.png',
'/cache/items/processed/20251227/130828/969.png',
'/cache/items/processed/20251227/130828/968.png',
'/cache/items/processed/20251227/130828/966.png',
'/cache/items/processed/20251227/130828/962.png',
'/cache/items/processed/20251227/130828/961.png',
'/cache/items/processed/20251227/130828/923.png',
'/cache/items/processed/20251227/130828/912.png',
'/cache/items/processed/20251227/130828/890.png',
'/cache/items/processed/20251227/130828/889.png',
'/cache/items/processed/20251227/130828/878.png',
'/cache/items/processed/20251227/130828/824.png',
'/cache/items/processed/20251227/130828/800.png',
'/cache/items/processed/20251227/130828/799.png',
'/cache/items/processed/20251227/130828/797.png',
'/cache/items/processed/20251227/130828/792.png',
'/cache/items/processed/20251227/130828/739.png',
'/cache/items/processed/20251227/130828/738.png',
'/cache/items/processed/20251227/130828/735.png',
'/cache/items/processed/20251227/130828/720.png',
'/cache/items/processed/20251227/130828/673.png',
'/cache/items/processed/20251227/130828/586.png',
'/cache/items/processed/20251227/130828/537.png',
'/cache/items/processed/20251227/130828/520.png',
'/cache/items/processed/20251227/130828/486.png',
'/cache/items/processed/20251227/130828/484.png',
'/cache/items/processed/20251227/130828/456.png',
'/cache/items/processed/20251227/130828/451.png',
'/cache/items/processed/20251227/130828/392.png',
'/cache/items/processed/20251227/130828/248.png',
'/cache/items/processed/20251227/130828/1498.png',
'/cache/items/processed/20251227/130828/1426.png',
'/cache/items/processed/20251227/130828/1378.png',
'/cache/items/processed/20251227/130828/1376.png',
'/cache/items/processed/20251227/130828/1343.png',
'/cache/items/processed/20251227/130828/1312.png',
'/cache/items/processed/20251227/130828/1295.png',
'/cache/items/processed/20251227/130828/1270.png',
'/cache/items/processed/20251227/130828/1260.png',
'/cache/items/processed/20251227/130828/1204.png',
'/cache/items/processed/20251227/130828/1192.png',
'/cache/items/processed/20251227/130828/1108.png',
'/cache/items/processed/20251227/130828/1075.png',
'/cache/items/processed/20251227/130828/1071.png',
'/cache/items/processed/20251227/122736/546.png',
'/cache/items/processed/20251227/122736/538.png',
'/cache/items/processed/20251227/122736/536.png',
'/cache/items/processed/20251227/122736/50.png',
'/cache/items/processed/20251227/122736/334.png',
'/cache/items/processed/20251227/122736/285.png',
'/cache/items/processed/20251227/122736/278.png',
'/cache/items/processed/20251227/122736/25.png',
'/cache/items/processed/20251227/122736/222.png',
'/cache/items/processed/20251226/141448/368.png',
'/cache/items/processed/20251226/141448/179.png',
'/cache/items/processed/20251225/222201/81.png',
'/cache/items/processed/20251225/222201/77.png',
'/cache/items/processed/20251225/222201/49.png',
'/cache/items/processed/20251225/215821/406.png',
'/cache/items/processed/20251222/214622/9.png',
'/cache/items/processed/20251222/114557/55.png',
'/cache/items/processed/20251222/114557/25.png',
'/cache/items/processed/20251222/114557/1.png',
'/cache/items/unprocessed/20251231/191753/30.png',
'/cache/items/unprocessed/20260101/123439/1167.png',
'/cache/items/unprocessed/20260101/123439/1170.png',
'/cache/items/unprocessed/20260101/123439/1171.png',
'/cache/items/unprocessed/20260101/123439/28.png',
]
manager = ScraperManager(Scraper(average_text_box))


for stuf in stuff:
    scraped_sales = manager.get_sale(stuf)
    repo = ExternalDofusPriceRepository()
    for sale in scraped_sales:
        sale.image_file_path = sale.image_file_path.replace('processed', 'unprocessed')
        repo.upsert(sale)


#date = datetime(year=2025,month=12,day=31)
#C:\Users\richa\Documents\Python\Dofus-mp-scanner\cache\items\20251228\122736
#C:\Users\richa\Documents\Python\Dofus-mp-scanner/cache//items/20251227\143247\70.png
#C:\Users\richa\Documents\Python\Dofus-mp-scanner/cache//items/20251231\173240\175.png